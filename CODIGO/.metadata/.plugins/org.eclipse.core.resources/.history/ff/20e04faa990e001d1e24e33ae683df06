package controle;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import application.Main;
import modelo.Pedido;
import modelo.Venda;

public class BancoDadosVendas {
	
	BancoDadosFuncionario controleVendedor = Main.bdf;
	BancoDadosCliente controleCliente = Main.bdc;
	BancoDadosProdutos controleProduto = Main.controleProdutos;
	
	List<Venda> vendas = new ArrayList<>();
	
	public BancoDadosVendas() {
		List<Pedido> pedidosVenda1 = new ArrayList<>();
		pedidosVenda1.add(new Pedido(controleProduto.pesquisarProdutoId(1), 2, controleProduto.pesquisarProdutoId(1).getPreco()*2));
		vendas.add(new Venda(1, new Date(), 8886.00, controleVendedor.pesquisarPorNome("Rafael"), 
				controleCliente.pesquisarCliente("043.547.991-11"), pedidosVenda1));
	}
	
	public void todasVendas() {
		for(Venda v: vendas) {
			System.out.println(v);
		}
	}
	
	public void adicionarVenda(Venda venda) {
		vendas.add(venda);	
	}
	
	public Integer codigoUltimoVendaCadastrada() {
		return vendas.get((vendas.size() - 1)).getId();
	}
	
	public Double totalVenda(List<Pedido> pedidos) {
		Double total = 0.0;
		for(Pedido p: pedidos) {
			total += p.getPrecoTotal();
		}
		return total;
	}
}
